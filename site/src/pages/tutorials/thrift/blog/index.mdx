---
type: tutorial
level: basic
---

import versions from '/gen-src/versions.json';

# Thrift tutorial introduction

In this tutorial, you'll learn how to build an Apache Thrift service with Armeria.

This tutorial is based on a [sample service](#sample-service-and-client), a minimal blog service, with which you can create, read, update, and delete blog posts.
To keep our focus on Armeria, this tutorial and the sample service implement memory-based operations instead of using database.

Follow this tutorial to write a service yourself or try [running the sample service](#build-and-run-the-sample-service) right away.

## Background

Before we start, let's swiftly go over Armeria's Thrift features:

// TW: Thrift 관련 기능 작성 부탁드립니다.

## Assumptions

This tutorial assumes that you have:

- Experience in building services in Java
- Experience in Java frameworks for server-side programming
- Understanding of Apache Thrift and experience in implementing Thrift services

## Prerequisites

// TW: 혹시 thrift compiler 설치(https://thrift.apache.org/docs/install/)를 prerequisite으로 추가해야할지 궁금합니다. 저는 컴파일러를 설치해야만 컴파일이 되던데, 설치하는 게 맞는지 아니면 제가 Gradle 설정을 잘못한 건지 모르겠어서 질문 드려요.

To run and develop the sample service, you need JDK 11 or higher.

## Sample service and client

The sample service is the main part of the tutorial, while the client is to verify the service is working properly.

### Sample service

The sample service provides you implementations of CRUD operations with corresponding service methods.
[The source code](https://github.com/line/armeria/tree/main/examples/tutorials/thrift) consists the following folders and files.

// TW: 이 경로(https://github.com/line/armeria/tree/main/examples/tutorials/thrift)의 build.gradle 파일은 상위 프로젝트에 종속성이 있어서, 지난 회의에서 종속성 없는 튜토리얼 버전으로 다시 작성하기로 얘기했습니다. 업데이트 부탁드립니다!

```
thrift-server/
├─ src/
│  ├─ main/
│  │  ├─ java/
│  │  │  ├─ example.armeria.server.blog.thrift/
│  │  │  │  ├─ BlogServiceExceptionHandler.java
│  │  │  │  ├─ BlogServiceImpl.java
│  │  │  │  └─ Main.java
│  │  ├─ thrift/
│  │  │  └─ blog.thrift
│  └─ test/
│     └─ java/
│        └─ example.armeria.server.blog.thrift/
│           └─ BlogServiceTest.java
└─ build.gradle
```

A part of the build.gradle file for the sample service is specified below.
If you are trying the tutorial from scratch, base your file on the sample source code's.

<Tip>

In this tutorial, we use [gradle](https://gradle.org/) as the build tool and use [thrift-gradle-plugin](https://plugins.gradle.org/plugin/org.jruyi.thrift) to compile thrift IDL files and generate stubs.

</Tip>

<CodeBlock language="groovy" filename="build.gradle">{`
// TW: 작성 부탁드리겠습니다.
`}</CodeBlock>

### Sample client

// TW: 서버/클라이언트 코드를 합치지 않으려고 합니다. (희승 님 제안대로 나머지 튜토리얼도 다 바꿀 것을 생각하니, 바꾸는 이득에 비해 비용이 너무 커져서요)
// 대신 클라이언트쪽 샘플 코드도 여기서 제공하면 좋을것 같은데, armeria(또는 armeria-examples) 저장소에 올릴 수 있을까요?

The sample client sends requests to the sample service to test the implementations.
[The source code]() consists the following folders and files.

```
thrift-client/
├─ src/
│  └─ main/
│     ├─ java/
│     │  └─ example.armeria.client.blog.thrift/
│     │     └─ BlogClient.java
│     ├─ resources/
│     │  └─ logback.xml
│     └─ thrift/
│        └─ blog.thrift
└─ build.gradle
```

## Build and run sample service

Try running the sample service and see the outcome of this tutorial.
Using Armeria's [Documentation Service](/docs/server-docservice), you can easily verify a server is running, receiving requests and sending responses.

1. Download the code from [here](https://github.com/line/armeria/tree/main/examples/tutorials/thrift).
2. Build the sample service using the Gradle Wrapper.
  ```bash
  $ ./gradlew build
  ```
3. Run the sample service again, using the Gradle Wrapper.
  ```bash
  $ ./gradlew run
  ```
4. Open the Documentation service page on your web browser at http://127.0.0.1:8080/docs.

## Try writing blog service yourself

Try writing the blog service yourself by following the guides in the given order:

1. [Create a service](/tutorials/thrift/blog/create-service)
2. [Run a server and client](/tutorials/thrift/blog/run-server-and-client)
3. [Define service methods](/tutorials/thrift/blog/define-service-methods)
4. [Implement CREATE](/tutorials/thrift/blog/implement-create)
5. [Implement READ](/tutorials/thrift/blog/implement-read)
6. [Implement UPDATE](/tutorials/thrift/blog/implement-update)
7. [Implement DELETE](/tutorials/thrift/blog/implement-delete)
